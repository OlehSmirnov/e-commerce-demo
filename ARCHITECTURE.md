
# 3. МОДЕЛЮВАННЯ ПРЕДМЕТНОЇ ОБЛАСТІ

## 3.1. Моделювання предметної області

Для визначення предметної області було зосереджено увагу на ключових аспектах, які формують логіку роботи демонстраційного e-commerce застосунку. А саме: перегляд каталогу товарів, взаємодія з карткою товару, сортування/підготовка списку товарів, додавання товарів до кошика та обраного, робота з обліковим записом користувача, ініціація процесу оплати із вибором платіжного провайдера, взаємодія з backend API для створення платіжної сесії, обробка результатів оплати (успішно/скасовано), а також механізм журналювання та обробки помилок.

Наступним кроком у моделюванні буде визначення взаємодії між компонентами. Першим компонентом у моделюванні є інтерфейс користувача вебзастосунку, який відображає каталог товарів і дозволяє користувачеві керувати кошиком та обраним. У процесі оформлення замовлення важливим аспектом є коректне узгодження стану кошика (кількість, ціна, підсумок) з ініціацією платежу, а також надання користувачу контрольованого вибору способу оплати.

Після вибору методу оплати ініціюється запит до backend API, який створює платіжну сесію у відповідного провайдера (наприклад, Stripe або PayPal) і повертає клієнту дані, необхідні для продовження оплати (URL або параметри сесії). Користувач завершує оплату на стороні провайдера, після чого відбувається повернення до застосунку на сторінку успіху або скасування. Додатково на стороні застосунку та/або сервера виконується логування подій (наприклад, часу виконання, статусів, помилок), що дозволяє аналізувати стабільність та продуктивність платіжного сценарію.

Останнім етапом у розглянутому сценарії є формування зрозумілого для користувача повідомлення про результат (успішна оплата/скасування/помилка), а також централізована обробка помилок, яка забезпечує однаковий формат відображення проблем незалежно від провайдера або джерела помилки.

## 3.1.1. Предметна область моделювання. Модель предметної області. Словник предметної області

Сформуємо словник предметної області (табл. 3.1) та опишемо доменні об’єкти, які будуть використані при створенні моделі предметної області у вигляді діаграми класів.

**Таблиця 3.1**
**Словник предметної області**

| № | Назва (укр.) | Назва (англ.) | Опис |
|---:|---|---|---|
| 1 | Інтерфейс користувача | User Interface | Вебінтерфейс, через який відбувається перегляд товарів, керування кошиком та запуск оплати. |
| 2 | Каталог товарів | Product Catalog | Сукупність товарів з атрибутами (назва, ціна, зображення тощо), що відображаються користувачу. |
| 3 | Картка товару | Product Card | Візуальне представлення товару в інтерфейсі; підтримує додавання в кошик/обране. |
| 4 | Кошик | Cart | Набір позицій з кількістю та підсумком, які користувач планує оплатити. |
| 5 | Обране | Favorites | Перелік товарів, позначених користувачем для швидкого доступу. |
| 6 | Користувач | User | Сутність, що відображає автентифікованого/неавтентифікованого відвідувача, його стан та права доступу. |
| 7 | Методи оплати | Payment Methods | Доступні провайдери оплати та їхній стан (увімкнено/вимкнено), що визначає, які кнопки показувати. |
| 8 | Провайдер оплати | Payment Provider | Зовнішній сервіс (наприклад, Stripe/PayPal), який приймає оплату та повертає статус. |
| 9 | Backend API | Backend API | Серверна частина, що створює платіжні сесії, виконує валідації та повертає уніфіковані відповіді/помилки. |
| 10 | Журналювання | Logging | Запис технічних подій (успіх/помилка/час), що використовується для аналізу продуктивності та стабільності. |
| 11 | Обробка помилок | Error Handling | Єдиний механізм нормалізації, збереження та відображення помилок користувачу. |
| 12 | Конфігурація інтеграцій | Integration Configuration | Налаштування доступів і ключів для провайдерів та сервісів (SDK, секрети, параметри середовища). |
| 13 | Особистий кабінет | User Cabinet | Розділ для автентифікованого користувача: відображення/керування обраним, а для адміністратора — керування станом доступних методів оплати (увімкнено/вимкнено). |

Модель предметної області представляє структуру e-commerce застосунку з підтримкою декількох способів оплати. Інтерфейс користувача (User Interface) є первинним входом для взаємодії з користувачем, який забезпечує доступ до каталогу (Product Catalog), перегляду картки товару (Product Card), керування кошиком (Cart) та обраним (Favorites). У межах сценарію покупки користувач (User) формує набір позицій у кошику, після чого переходить до оформлення та вибору методу оплати (Payment Methods).

Для автентифікованих користувачів передбачено окремий розділ «Особистий кабінет» (User Cabinet), у якому користувач отримує доступ до свого обраного, а адміністратор — до керування доступністю методів оплати.

Під час ініціації платежу інтерфейс взаємодіє з серверною частиною (Backend API), яка виконує створення платіжної сесії у зовнішнього провайдера (Payment Provider) та повертає дані, необхідні для продовження оплати. Результат платежу (успіх/скасування/помилка) відображається користувачу у відповідному стані інтерфейсу. Для забезпечення підтримуваності реалізується журналювання (Logging) і централізована обробка помилок (Error Handling), що уніфікує повідомлення та спрощує діагностику проблем.

## 3.1.2. Елементи моделювання предметної області

Одним із етапів моделювання предметної області є визначення графічних символів, що будуть використовуватись при побудові UML діаграм (табл. 3.2).

**Таблиця 3.2**
**Графічні символи UML діаграм, що плануються до використання**

| Графічний символ | Назва елемента |
|---|---|
| (Actor) | Дійова особа (Actor) |
| (Use Case) | Варіант використання (Use Case) |
| (Note) | Коментар (Note) |
| (Class) | Клас (Class) |
| (Package) | Пакет (Package) |
| (Object) | Об’єкт |
| (Component) | Компонент (Component) |
| (Main program) | Головна програма (Main program) |
| (Resource) | Ресурс (Resource) |

Наступним кроком опишемо єднальні елементи UML, що плануються до використання, які наведені у таблиці 3.3.

**Таблиця 3.3**
**Єднальні елементи UML, що плануються до використання**

| Графічний символ | Назва елемента |
|---|---|
| → | Односпрямована асоціація (Unidirectional association) |
| ⋯→ | Залежність (Dependency) |
| ◇— | Агрегація (Aggregation) |
| ◆— | Композиція (Composition) |
| —|> | Узагальнення/наслідування (Generalization) |
| ┄┄ | Анотація до пункту (Anchor note to item) |
| ↔ | Посилання на об’єкт (Object link) |
| ⟲ | Посилання на себе (Link to self) |
| ⇢ | Пряме повідомлення (Message) |
| ⇠ | Зворотне повідомлення (Return message) |

## 3.1.3. Робоча область моделювання

В якості робочої області моделювання розглянемо вебзастосунок e-commerce з підтримкою оплати через зовнішніх провайдерів. Користувач відкриває застосунок у браузері та переглядає список доступних товарів. Далі користувач додає вибрані товари до кошика, за потреби змінює кількість та переходить до оформлення.

У процесі оформлення замовлення користувач обирає метод оплати із переліку доступних. Після вибору метод оплати ініціює запит до backend API для створення платіжної сесії. Сервер, у свою чергу, взаємодіє з обраним провайдером оплати й повертає клієнту дані для продовження оплати. Користувач завершує оплату на стороні провайдера, після чого повертається до застосунку, де відображається результат операції.

Додатково в системі передбачені механізми журналювання подій та централізованої обробки помилок, що дозволяє відслідковувати стабільність процесу оплати, швидко ідентифікувати проблеми інтеграції та показувати користувачу узгоджені повідомлення про помилки.
